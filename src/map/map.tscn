[gd_scene load_steps=53 format=3 uid="uid://c0680mc4c6jv2"]

[ext_resource type="Script" uid="uid://critvh0h1jdov" path="res://map/map.gd" id="1_a0dt8"]
[ext_resource type="PackedScene" uid="uid://10in5msak4tb" path="res://player/player.tscn" id="1_hgrid"]
[ext_resource type="PackedScene" uid="uid://bdadbajuxcg81" path="res://mobs/trilobite.tscn" id="2_4hjbm"]
[ext_resource type="Script" uid="uid://64mv2walulaj" path="res://mobs/mob_spawn_config.gd" id="2_5jdw0"]
[ext_resource type="PackedScene" uid="uid://b3rx4xd54ocg8" path="res://mobs/opabinia.tscn" id="2_kffv2"]
[ext_resource type="Texture2D" uid="uid://daw7fyyhiwsol" path="res://sprites/Background/Notebook.webp" id="4_lgq1i"]
[ext_resource type="PackedScene" uid="uid://fftwkxb531xu" path="res://mobs/anomalocaris.tscn" id="5_5jdw0"]
[ext_resource type="PackedScene" uid="uid://co7c04tfk311a" path="res://mobs/hallucigenia.tscn" id="5_kxmgb"]
[ext_resource type="PackedScene" uid="uid://jkek3yfmviai" path="res://mobs/ammonite.tscn" id="7_e8e5r"]
[ext_resource type="PackedScene" uid="uid://duwiq20sakjq7" path="res://mobs/cameroceras.tscn" id="8_112ik"]
[ext_resource type="PackedScene" uid="uid://bggnh3ybbrdpv" path="res://mobs/sacabambaspis.tscn" id="9_i5grx"]
[ext_resource type="PackedScene" uid="uid://do04foheh3c1q" path="res://mobs/dunkleosteus.tscn" id="10_lct0g"]
[ext_resource type="PackedScene" uid="uid://bgrs148km24uc" path="res://mobs/ammonite_large.tscn" id="11_wnugf"]
[ext_resource type="PackedScene" uid="uid://b44yikllq3oky" path="res://mobs/helicoprion.tscn" id="13_w1ifk"]
[ext_resource type="PackedScene" uid="uid://cj687ngeao6r0" path="res://mobs/plesiosaurus.tscn" id="15_xar17"]
[ext_resource type="Texture2D" uid="uid://fmjl01u44702" path="res://sprites/Background/background_1.png" id="16_21p51"]
[ext_resource type="PackedScene" uid="uid://bdcwdybnqvdxt" path="res://ui/hud.tscn" id="17_w1ifk"]
[ext_resource type="AudioStream" uid="uid://bl4g76317iygt" path="res://sfx/stageIntro.wav" id="18_sjjp3"]
[ext_resource type="AudioStream" uid="uid://dotfeevqqc1v4" path="res://sfx/gameOver.wav" id="19_g0u07"]
[ext_resource type="AudioStream" uid="uid://dd2bqd27i38fg" path="res://sfx/Canon_(2004)_-_Strolling_Strings_-_United_States_Air_Force_Band.mp3" id="20_8lto5"]
[ext_resource type="PackedScene" uid="uid://dytyjss83ii4e" path="res://particles/blood_particles.tscn" id="21_21p51"]

[sub_resource type="Resource" id="Resource_kffv2"]
script = ExtResource("2_5jdw0")
weight = 2.0
creature = ExtResource("2_kffv2")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_7lyie"]
script = ExtResource("2_5jdw0")
weight = 1.0
creature = ExtResource("2_4hjbm")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_5jdw0"]
script = ExtResource("2_5jdw0")
weight = 1.0
creature = ExtResource("2_kffv2")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_kxmgb"]
script = ExtResource("2_5jdw0")
weight = 1.2
creature = ExtResource("2_4hjbm")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_e8e5r"]
script = ExtResource("2_5jdw0")
weight = 0.7
creature = ExtResource("5_5jdw0")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_112ik"]
script = ExtResource("2_5jdw0")
weight = 0.7
creature = ExtResource("2_kffv2")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_i5grx"]
script = ExtResource("2_5jdw0")
weight = 1.4
creature = ExtResource("2_4hjbm")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_lct0g"]
script = ExtResource("2_5jdw0")
weight = 0.6
creature = ExtResource("5_5jdw0")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_k8tny"]
script = ExtResource("2_5jdw0")
weight = 0.25
creature = ExtResource("5_kxmgb")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_ap8vc"]
script = ExtResource("2_5jdw0")
weight = 1.0
creature = ExtResource("2_4hjbm")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_58xwf"]
script = ExtResource("2_5jdw0")
weight = 1.0
creature = ExtResource("5_5jdw0")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_w1ifk"]
script = ExtResource("2_5jdw0")
weight = 0.25
creature = ExtResource("5_kxmgb")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_wnugf"]
script = ExtResource("2_5jdw0")
weight = 0.25
creature = ExtResource("7_e8e5r")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_sjjp3"]
script = ExtResource("2_5jdw0")
weight = 1.0
creature = ExtResource("2_4hjbm")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_g0u07"]
script = ExtResource("2_5jdw0")
weight = 0.8
creature = ExtResource("5_5jdw0")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_21p51"]
script = ExtResource("2_5jdw0")
weight = 1.2
creature = ExtResource("7_e8e5r")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_xar17"]
script = ExtResource("2_5jdw0")
weight = 0.2
creature = ExtResource("8_112ik")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_iqbtl"]
script = ExtResource("2_5jdw0")
weight = 0.8
creature = ExtResource("7_e8e5r")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_81obp"]
script = ExtResource("2_5jdw0")
weight = 1.2
creature = ExtResource("9_i5grx")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_gw5x3"]
script = ExtResource("2_5jdw0")
weight = 0.23
creature = ExtResource("8_112ik")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_wwcqt"]
script = ExtResource("2_5jdw0")
weight = 0.27
creature = ExtResource("10_lct0g")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_8lto5"]
script = ExtResource("2_5jdw0")
weight = 1.0
creature = ExtResource("11_wnugf")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_ofiht"]
script = ExtResource("2_5jdw0")
weight = 0.28
creature = ExtResource("13_w1ifk")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_05mli"]
script = ExtResource("2_5jdw0")
weight = 0.08
creature = ExtResource("13_w1ifk")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_de6fw"]
script = ExtResource("2_5jdw0")
weight = 1.0
creature = ExtResource("11_wnugf")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_kb5w5"]
script = ExtResource("2_5jdw0")
weight = 0.6
creature = ExtResource("13_w1ifk")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Resource" id="Resource_rqrn2"]
script = ExtResource("2_5jdw0")
weight = 0.2
creature = ExtResource("13_w1ifk")
metadata/_custom_type_script = "uid://64mv2walulaj"

[sub_resource type="Environment" id="Environment_beun2"]

[sub_resource type="Curve2D" id="Curve2D_lgq1i"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -1152, 448, 0, 0, 0, 0, -1152, -548)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_4hjbm"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 1152, -548, 0, 0, 0, 0, 1152, 448)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_21p51"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 29370, 8389, 0, 0, 0, 0, 16314, 9029, 0, 0, 0, 0, 1722, 8261, 0, 0, 0, 0, -3654, 6853, 0, 0, 0, 0, -6726, 3781, 0, 0, 0, 0, -8646, 69, 0, 0, 0, 0, -8774, -5307, 0, 0, 0, 0, -5958, -7867, 0, 0, 0, 0, -1606, -9275, 0, 0, 0, 0, 3514, -7995, 0, 0, 0, 0, 6074, -4411, 0, 0, 0, 0, 4922, -59, 0, 0, 0, 0, 954, 3653, 0, 0, 0, 0, -7494, 5445, 0, 0, 0, 0, -15430, 5701, 0, 0, 0, 0, -27206, 5189, 0, 0, 0, 0, -33606, -3131, 0, 0, 0, 0, -25798, -15547, 0, 0, 0, 0, -13126, -10171, 0, 0, 0, 0, -6342, -3643, 0, 0, 0, 0, -838, 325, 0, 0, 0, 0, 4538, 5573, 0, 0, 0, 0, 11194, 4933, 0, 0, 0, 0, 14010, -2107, 0, 0, 0, 0, 9786, -7483, 0, 0, 0, 0, 570, -8379, 0, 0, 0, 0, -6854, -5691, 0, 0, 0, 0, -10694, -315, 0, 0, 0, 0, -7110, 7493, 0, 0, 0, 0, 1978, 7109, 0, 0, 0, 0, 8890, 3141, 0, 0, 0, 0, 20282, 2501, 0, 0, 0, 0, 27834, -2491, 0, 0, 0, 0, 29370, 8389)
}
point_count = 34

[node name="Map" type="Node2D"]
script = ExtResource("1_a0dt8")
level1_mobs = Array[ExtResource("2_5jdw0")]([SubResource("Resource_kffv2"), SubResource("Resource_7lyie")])
level2_mobs = Array[ExtResource("2_5jdw0")]([SubResource("Resource_5jdw0"), SubResource("Resource_kxmgb"), SubResource("Resource_e8e5r")])
level3_mobs = Array[ExtResource("2_5jdw0")]([SubResource("Resource_112ik"), SubResource("Resource_i5grx"), SubResource("Resource_lct0g"), SubResource("Resource_k8tny")])
level4_mobs = Array[ExtResource("2_5jdw0")]([SubResource("Resource_ap8vc"), SubResource("Resource_58xwf"), SubResource("Resource_w1ifk"), SubResource("Resource_wnugf")])
level5_mobs = Array[ExtResource("2_5jdw0")]([SubResource("Resource_sjjp3"), SubResource("Resource_g0u07"), SubResource("Resource_21p51"), SubResource("Resource_xar17")])
level6_mobs = Array[ExtResource("2_5jdw0")]([SubResource("Resource_iqbtl"), SubResource("Resource_81obp"), SubResource("Resource_gw5x3"), SubResource("Resource_wwcqt")])
level7_mobs = Array[ExtResource("2_5jdw0")]([SubResource("Resource_8lto5"), SubResource("Resource_ofiht"), SubResource("Resource_05mli")])
level8_mobs = Array[ExtResource("2_5jdw0")]([SubResource("Resource_de6fw"), SubResource("Resource_kb5w5"), SubResource("Resource_rqrn2")])
blood_particles = ExtResource("21_21p51")
boss_creature = ExtResource("15_xar17")

[node name="HUD" parent="." instance=ExtResource("17_w1ifk")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_beun2")

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(0.5, 0.5)

[node name="Background2" type="Sprite2D" parent="."]
z_index = -100
scale = Vector2(45, 45)
texture = ExtResource("4_lgq1i")

[node name="Background" type="Sprite2D" parent="."]
z_index = -100
scale = Vector2(45, 45)
texture = ExtResource("16_21p51")

[node name="Player" parent="." instance=ExtResource("1_hgrid")]

[node name="MobTimer" type="Timer" parent="."]

[node name="MobSpawnPathLeft" type="Path2D" parent="."]
curve = SubResource("Curve2D_lgq1i")

[node name="MobSpawnLocation" type="PathFollow2D" parent="MobSpawnPathLeft"]
position = Vector2(-1152, 448)
rotation = -1.5708

[node name="MobSpawnPathRight" type="Path2D" parent="."]
curve = SubResource("Curve2D_4hjbm")

[node name="MobSpawnLocation" type="PathFollow2D" parent="MobSpawnPathRight"]
position = Vector2(1152, -548)
rotation = 1.5708

[node name="OceanFloor" type="Node2D" parent="." groups=["OceanFloor"]]
position = Vector2(0, 834)

[node name="StartAudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("18_sjjp3")
volume_db = -10.0
bus = &"SFX"

[node name="GameOverAudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("19_g0u07")
volume_db = -10.0
bus = &"SFX"

[node name="BGMAudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("20_8lto5")
volume_db = -15.0
autoplay = true
bus = &"BGM"

[node name="Boss" type="Node2D" parent="."]

[node name="BossPath" type="Path2D" parent="Boss"]
curve = SubResource("Curve2D_21p51")

[node name="Follower" type="PathFollow2D" parent="Boss/BossPath" groups=["BossPath"]]
position = Vector2(29370, 8389)
rotation = 3.09261
rotates = false

[connection signal="quit" from="HUD" to="." method="_on_hud_quit"]
[connection signal="restart" from="HUD" to="." method="_on_hud_restart"]
[connection signal="start" from="HUD" to="." method="_on_hud_start"]
[connection signal="player_eat" from="Player" to="." method="_on_player_player_eat"]
[connection signal="player_health_change" from="Player" to="." method="_on_player_player_health_change"]
[connection signal="timeout" from="MobTimer" to="." method="_on_mob_timer_timeout"]
